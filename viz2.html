<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="Data Visualization" />
    <meta name="keywords" content="HTML, CSS, D3, Javascript" />
    <meta name="Author" content="Jinjuta Suksuwan Thursday 9:30 - 10:30AM" />

    <!-- Import cguage chart -->
    <link rel="stylesheet" href="source/style.css" />
    <script src="source/gauge.js"></script>
    <script src="example.js"></script>

    <!-- Import custom charts -->
    <script src="resources/js/viz2.js"></script>

    <!-- Import D3.js version 4 -->
    <script src="https://d3js.org/d3.v4.js"></script>

    <!-- Import D3.js Function for radial charts -->
    <script src="https://cdn.jsdelivr.net/gh/holtzy/D3-graph-gallery@master/LIB/d3-scale-radial.js"></script>

    <!-- Import CSS -->
    <link rel="stylesheet" href="./resources/css/viz2.css" />

    <!-- Import Boostrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />

    <!-- Import Font-awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <!-- Import Vue.js -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js" defer></script>

    <!-- Tab title -->
    <title>Page 5: Obesity & Health Rish Factors</title>
  </head>
  <body class="body" id="app">
    <div class="container-fluid">
      <!-- Title -->
      <p class="page-title">So what causes obesity?</p>
      <!-- ------------- 1st container row: Daskboard ------------- -->
      <div class="row g-2">
        <!-- Scale -->
        <div class="col-sm-8 col-md-8 col-lg-4">
          <div class="correlation-scale">
            <div class="gauge-container">
              <div id="gauge"></div>
            </div>
          </div>
        </div>
        <!-- Correlation Coefficient % -->
        <div class="col-sm-8 col-md-4 col-lg-2 correlation-text">
          <div class="correlation-card">
            <p class="card-title fs-6">Highly Correlated</p>
            <p class="correlation-body">80%</p>
          </div>
        </div>
        <!-- Total population -->
        <div class="col-sm-8 col-md-4 col-lg-2">
          <div class="bubble-card">
            <p class="card-title fs-6">Total population</p>
            <p class="bubble-card-body">14,708</p>
          </div>
        </div>
        <!-- Overweight/Obese -->
        <div class="col-sm-8 col-md-4 col-lg-2">
          <div class="bubble-card">
            <p class="card-title fs-6">Overweight or Obese</p>
            <p class="bubble-card-body">2,591</p>
          </div>
        </div>
        <!-- Selected health factor -->
        <div class="col-sm-8 col-md-4 col-lg-2">
          <div class="bubble-card">
            <p class="card-title fs-6">Excessive alcohol consumption</p>
            <p class="bubble-card-body">12,963</p>
          </div>
        </div>
      </div>

      <!-- ------------- 2nd container row: Visualization ------------- -->
      <div class="row g-4">
        <!-- ------------- column 1: Bubble plot& year picker ------------- -->
        <div class="col-sm-8 col-md-6">
          <!--  Bubble plot  -->
          <div class="row">
            <div id="bubblePlot"></div>
          </div>

          <!--  Year Picker  -->
          <div class="row my-4 gx-2">
            <div>
              <p class="sub-header">
                Pick a year or play the time line
                <i class="fa-solid fa-circle-play"></i>
                <i class="fa-solid fa-stop"></i>
              </p>
            </div>
            <div class="col">
              <div class="radio-tick">
                <input type="radio" id="year2001" name="yearSelection" />
                <label for="year2011-2012">
                  <p>2001</p>
                </label>
              </div>
            </div>
            <div class="col">
              <div class="radio-tick">
                <input type="radio" id="year2004-2005" name="yearSelection" />
                <label for="year2011-2012"><p>2004 - 2005</p></label>
              </div>
            </div>
            <div class="col">
              <div class="radio-tick">
                <input type="radio" id="year2007-2008" name="yearSelection" />
                <label for="year2011-2012"><p>2007 - 2008</p></label>
              </div>
            </div>
            <div class="col">
              <div class="radio-tick">
                <input type="radio" id="year2011-2012" name="yearSelection" />
                <label for="year2011-2012"><p>2011 - 2012</p></label>
              </div>
            </div>
            <div class="col">
              <div class="radio-tick">
                <input type="radio" id="year2014-2015" name="yearSelection" />
                <label for="year2014-2015">
                  <p>2014 - 2015</p>
                </label>
              </div>
            </div>
            <div class="col">
              <div class="radio-tick">
                <input type="radio" id="year2017-2018" name="yearSelection" />
                <label for="year2017-2018">
                  <p>2017 - 2018</p>
                </label>
              </div>
            </div>
            <div class="col">
              <div class="radio-tick">
                <input
                  type="radio"
                  id="year2022"
                  name="yearSelection"
                  checked
                />
                <label for="year2022"><p>2022</p></label>
              </div>
            </div>
          </div>
          <!-- column end tag -->
        </div>

        <!-- ---------- column 1: Circular Pot & Desciprtion ---------- -->
        <div class="col-sm-8 col-md-6">
          <div class="row">
            <!-- Circular Bar Plot -->
            <div class="col">
              <div id="circularBarPlot"></div>
            </div>
          </div>
          <!-- Descriptions -->
          <div class="row my-3">
            <p class="sub-header">Description</p>
            <p>
              In 2004 - 2005, 19,806 people were measured in the survey. They
              survey found that 12,963 of them drink excessive amount of alcohol
              due to the xxx guideline and 2,591 of the people were found to be
              overweight or obese.
            </p>
            <p>
              This data shows that, in 2004 - 2005, excessive amount of alcohol
              had a correlation coefficient value at 0.8 which is considered a
              high positive correlation.
            </p>
            <p>
              It can be interpreted that this factor had a high tendency to lead
              to the condition of overweight or obese.
            </p>
          </div>
        </div>
      </div>

      <!-- ------------------ 3rd container row: Buttons ------------------ -->
      <div class="row my-5">
        <!-- Previous button -->
        <div class="col-4">
          <a href="index.html">
            <button
              class="btn btn-lg btn-outline-primary text-uppercase fs-5 fw-bold"
            >
              Previous
            </button>
          </a>
        </div>
        <!-- Next Button -->
        <div class="col-4 ms-auto right-align">
          <a href="viz2.html">
            <button class="btn btn-lg btn-primary text-uppercase fs-5 fw-bold">
              Next
            </button>
          </a>
        </div>
      </div>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const radios = document.querySelectorAll(
          '.radio-tick input[type="radio"]'
        );

        radios.forEach((radio) => {
          radio.addEventListener("change", () => {
            // Remove checked class from all
            radios.forEach((r) => r.parentNode.classList.remove("checked"));
            // Add checked class to the checked radio
            if (radio.checked) {
              radio.parentNode.classList.add("checked");
            }
          });
        });
      });
    </script>
  </body>
</html>
